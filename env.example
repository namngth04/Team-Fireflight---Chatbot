# === Database & Secrets =======================================================
DATABASE_URL=postgresql://postgres:your_password@localhost:5433/chatbot_db
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24
SECRET_KEY=your_fastapi_secret_here
DEBUG=true

# === Primary LLM (Gemini) =====================================================
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash
# Tùy chọn chuỗi provider: vd "gemini:gemini-2.5-flash,ollama:qwen2.5:7b"
SPOON_LLM_PROVIDER_CHAIN=

# === Ollama Fallback (khuyến nghị bật để tránh rate limit) ====================
OLLAMA_ENABLED=true
OLLAMA_BASE_URL=http://localhost:11434/v1
OLLAMA_API_KEY=ollama
OLLAMA_MODEL=qwen2.5:7b
# Nếu không dùng Ollama, đặt OLLAMA_ENABLED=false và bỏ qua phần này.

# === Spoon Agent & MCP =======================================================
SPOON_AGENT_ENABLED=true
SPOON_AGENT_MAX_STEPS=6
SPOON_AGENT_TIMEOUT=90
SPOON_MCP_TRANSPORT=sse
# SPOON_MCP_URL=http://localhost:8001/sse   # Ghi đè URL nếu cần
SPOON_MCP_PATH=/sse

# === MCP Server (FastMCP) =====================================================
MCP_SERVER_ENABLED=true
MCP_SERVER_HOST=localhost
MCP_SERVER_PORT=8001
MCP_TRANSPORT=sse       # sse | http | stdio

# === Retrieval & Storage ======================================================
CHROMADB_PATH=./chroma_db
FILE_STORAGE_PATH=./storage
MAX_FILE_SIZE=52428800

# === LLM Retry Settings =======================================================
LLM_RETRY_ATTEMPTS=3
LLM_RETRY_BASE_DELAY=2.0
LLM_RETRY_MAX_DELAY=60.0

# === CORS / Frontend ==========================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
# NEXT_PUBLIC_API_URL=http://localhost:8000          # optional (frontend)
# NEXT_PUBLIC_MCP_URL=http://localhost:8001/sse      # optional (frontend)
